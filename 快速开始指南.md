# ğŸš€ OpenAPI è½¬ MCP Server - å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªå°† OpenAPI è§„èŒƒå¿«é€Ÿè½¬æ¢ä¸º MCP Server é…ç½®æ–‡ä»¶çš„ Web åº”ç”¨ã€‚é€šè¿‡ç¾è§‚çš„ç•Œé¢ï¼Œä½ å¯ä»¥è½»æ¾ä¸Šä¼  OpenAPI æ–‡ä»¶ï¼Œå¹¶è·å¾—è½¬æ¢åçš„ MCP é…ç½®ã€‚

## ğŸ¯ ä¸‰ç§ä½¿ç”¨æ–¹å¼

### æ–¹å¼ä¸€ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼Œå…å®‰è£…ï¼‰

#### 1ï¸âƒ£ ä½¿ç”¨ Docker Composeï¼ˆæœ€ç®€å•ï¼‰

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

è®¿é—®ï¼šhttp://localhost:3000

#### 2ï¸âƒ£ ä½¿ç”¨ Docker å‘½ä»¤

```bash
# æ„å»ºé•œåƒ
docker build -t openapi-to-mcp-server .

# è¿è¡Œå®¹å™¨
docker run -d \
  -p 3000:3000 \
  --name openapi-mcp \
  openapi-to-mcp-server

# æŸ¥çœ‹æ—¥å¿—
docker logs -f openapi-mcp

# åœæ­¢å®¹å™¨
docker stop openapi-mcp
docker rm openapi-mcp
```

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘è¿è¡Œ

#### å‰ç½®æ¡ä»¶

- Node.js 18 æˆ–æ›´é«˜ç‰ˆæœ¬
- Go 1.23 æˆ–æ›´é«˜ç‰ˆæœ¬

#### æ­¥éª¤

```bash
# 1. å®‰è£… openapi-to-mcp å·¥å…·
bash scripts/install-go-tool.sh
# æˆ–æ‰‹åŠ¨å®‰è£…ï¼š
go install github.com/higress-group/openapi-to-mcpserver/cmd/openapi-to-mcp@latest

# 2. å®‰è£… Node.js ä¾èµ–
npm install

# 3. å¯åŠ¨æœåŠ¡
npm start
# æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼š
bash scripts/start.sh

# å¼€å‘æ¨¡å¼ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
npm run dev
```

è®¿é—®ï¼šhttp://localhost:3000

### æ–¹å¼ä¸‰ï¼šWindows ç³»ç»Ÿ

#### ä½¿ç”¨ Docker Desktopï¼ˆæ¨èï¼‰

1. å®‰è£… [Docker Desktop for Windows](https://www.docker.com/products/docker-desktop)
2. åœ¨é¡¹ç›®ç›®å½•æ‰“å¼€ PowerShell æˆ– CMD
3. è¿è¡Œï¼š
```cmd
docker-compose up -d
```

#### æœ¬åœ°è¿è¡Œ

1. å®‰è£… [Node.js](https://nodejs.org/)
2. å®‰è£… [Go 1.23+](https://golang.org/dl/)
3. åœ¨ PowerShell ä¸­è¿è¡Œï¼š

```powershell
# å®‰è£… Go å·¥å…·
go install github.com/higress-group/openapi-to-mcpserver/cmd/openapi-to-mcp@latest

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨æœåŠ¡
npm start
```

## ğŸ¨ ä½¿ç”¨ç•Œé¢

### 1. ä¸Šä¼ æ–‡ä»¶

- **æ‹–æ‹½ä¸Šä¼ **ï¼šå°† OpenAPI æ–‡ä»¶æ‹–åˆ°ä¸Šä¼ åŒºåŸŸ
- **ç‚¹å‡»ä¸Šä¼ **ï¼šç‚¹å‡»ä¸Šä¼ åŒºåŸŸé€‰æ‹©æ–‡ä»¶
- æ”¯æŒæ ¼å¼ï¼š`.json`ã€`.yaml`ã€`.yml`
- æ–‡ä»¶å¤§å°ï¼šæœ€å¤§ 10MB

### 2. é…ç½®å‚æ•°

| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| æœåŠ¡å™¨åç§° | MCP æœåŠ¡å™¨çš„æ ‡è¯† | `petstore`, `payment-api` |
| å·¥å…·å‰ç¼€ | ä¸ºå·¥å…·æ·»åŠ å‰ç¼€ | `api_`, `tool_` |
| è¾“å‡ºæ ¼å¼ | YAML æˆ– JSON | `yaml` |
| éªŒè¯è§„èŒƒ | æ˜¯å¦ä¸¥æ ¼éªŒè¯ | â˜‘ï¸ |

### 3. è½¬æ¢å’Œä¸‹è½½

- ç‚¹å‡» **"å¼€å§‹è½¬æ¢"** æŒ‰é’®
- æŸ¥çœ‹ç”Ÿæˆçš„é…ç½®é¢„è§ˆ
- é€‰æ‹©ï¼š
  - ğŸ“¥ **ä¸‹è½½é…ç½®æ–‡ä»¶**
  - ğŸ“‹ **å¤åˆ¶åˆ°å‰ªè´´æ¿**

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

é¡¹ç›®åŒ…å«ä¸€ä¸ªç¤ºä¾‹æ–‡ä»¶ï¼š`examples/petstore.json`

ä½ å¯ä»¥ç”¨å®ƒæ¥æµ‹è¯•è½¬æ¢åŠŸèƒ½ï¼š

1. è®¿é—® http://localhost:3000
2. ä¸Šä¼  `examples/petstore.json`
3. æœåŠ¡å™¨åç§°å¡«å†™ï¼š`petstore`
4. ç‚¹å‡»"å¼€å§‹è½¬æ¢"
5. æŸ¥çœ‹ç”Ÿæˆçš„ MCP é…ç½®

## ğŸ”§ API æ¥å£è¯´æ˜

### è½¬æ¢æ¥å£

```bash
curl -X POST http://localhost:3000/api/convert \
  -F "file=@petstore.json" \
  -F "serverName=petstore" \
  -F "format=yaml"
```

### å¥åº·æ£€æŸ¥

```bash
curl http://localhost:3000/api/health
```

å“åº”ç¤ºä¾‹ï¼š
```json
{
  "success": true,
  "status": "healthy",
  "message": "OpenAPI to MCP æœåŠ¡è¿è¡Œæ­£å¸¸"
}
```

## ğŸ› å¸¸è§é—®é¢˜

### Q1: è½¬æ¢å¤±è´¥ï¼Œæç¤º "Go å‘½ä»¤ä¸å¯ç”¨"

**A:** ç¡®ä¿å·²å®‰è£… `openapi-to-mcp` å·¥å…·ï¼š

```bash
# macOS/Linux
go install github.com/higress-group/openapi-to-mcpserver/cmd/openapi-to-mcp@latest

# éªŒè¯å®‰è£…
openapi-to-mcp --help
```

å¦‚æœä½¿ç”¨ Dockerï¼Œä¸éœ€è¦æœ¬åœ°å®‰è£… Go å·¥å…·ã€‚

### Q2: Docker å®¹å™¨æ— æ³•å¯åŠ¨

**A:** æ£€æŸ¥æ­¥éª¤ï¼š

1. ç¡®è®¤ Docker æ­£åœ¨è¿è¡Œ
2. æ£€æŸ¥ç«¯å£ 3000 æ˜¯å¦è¢«å ç”¨
3. æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š`docker-compose logs`

### Q3: æ–‡ä»¶ä¸Šä¼ å¤±è´¥

**A:** å¯èƒ½åŸå› ï¼š

- æ–‡ä»¶å¤§å°è¶…è¿‡ 10MB
- æ–‡ä»¶æ ¼å¼ä¸æ˜¯ JSON/YAML
- æ–‡ä»¶å†…å®¹ä¸ç¬¦åˆ OpenAPI è§„èŒƒ

### Q4: è½¬æ¢åçš„é…ç½®å¦‚ä½•ä½¿ç”¨ï¼Ÿ

**A:** ç”Ÿæˆçš„é…ç½®æ–‡ä»¶å¯ä»¥ï¼š

1. ç”¨äºé…ç½® Higress MCP Server
2. é›†æˆåˆ°ä½ çš„ AI åº”ç”¨ä¸­
3. ä½œä¸º API ç½‘å…³é…ç½®

å‚è€ƒï¼š[Higress MCP é…ç½®æ–‡æ¡£](https://higress.cn/en/ai/mcp-quick-start/)

## ğŸ“š ç›¸å…³èµ„æº

- **OpenAPI è§„èŒƒ**: https://swagger.io/specification/
- **MCP åè®®**: https://modelcontextprotocol.io/
- **Higress é¡¹ç›®**: https://higress.io/
- **è½¬æ¢å·¥å…·æºç **: https://github.com/higress-group/openapi-to-mcpserver

## ğŸ’¡ å°è´´å£«

1. **ä½¿ç”¨ Docker æœ€çœå¿ƒ**ï¼šæ— éœ€é…ç½® Go ç¯å¢ƒï¼Œä¸€é”®å¯åŠ¨
2. **å‘½åè§„èŒƒ**ï¼šæœåŠ¡å™¨åç§°å»ºè®®ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦
3. **éªŒè¯å¼€å…³**ï¼šå¦‚æœæ–‡ä»¶æ ¼å¼ç¡®å®šæ— è¯¯ï¼Œå¯ä»¥å…³é—­éªŒè¯ä»¥æé«˜é€Ÿåº¦
4. **è¾“å‡ºæ ¼å¼**ï¼šYAML æ›´æ˜“è¯»ï¼ŒJSON æ›´é€‚åˆç¨‹åºå¤„ç†

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ [README.md](README.md) äº†è§£è¯¦ç»†ä¿¡æ¯
2. æ£€æŸ¥ Docker æ—¥å¿—ï¼š`docker-compose logs -f`
3. è®¿é—®å¥åº·æ£€æŸ¥æ¥å£ï¼šhttp://localhost:3000/api/health
4. æäº¤ Issue åˆ°é¡¹ç›®ä»“åº“

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰

